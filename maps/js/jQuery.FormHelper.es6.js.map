{"version":3,"sources":["../src/js/jQuery.FormHelper.es6.js"],"names":["global","factory","define","amd","$","document","exports","module","require","jQuery","window","undefined","pluginName","settings","defaultOptions","disableSubmitBtn","errorHurdling","DEBUG_MODE","p","DEBUG","params","console","info","toString","ERROR","error","WARNING","warn","isJSON","str","jsonObj","JSON","parse","e","validateEmail","emailAddrString","test","validateTel","phoneNumberString","supportedTag","supportedType","nameSpaceKey","replace","c","toLowerCase","$el","constructor","el","opts","extend","init","attr","pairingErrorAndFields","find","prop","submit","preventDefault","resetFormError","validationLoop","target","log","join","each","idx","rules","data","val","forEach","r","result","validationDelegator","nameKey","errors","length","addClass","rule","toLocaleLowerCase","trim","includes","split","inputTag","getTargetInputField","inputNameStr","generateUUID_v4","errorRules","rulesArr","finalRules","Set","concat","typeOfField","required","existingRules","push","hasErrorFor","afterInput","prev","underErrorGroup","parent","toUpperCase","underErrorGroupWithForKey","underErrorGroupAfterInput","text","eachField_forDebugging","removeClass","d","Date","getTime","d2","performance","now","Math","random","floor","fn","options"],"mappings":"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","sourcesContent":["/**\n * Form Validation Helper jQuery Plugin\n * Author: Kevin\n * Mar-2020\n *\n * Changelog:\n * Mar-2020 - Rewrite into ES6\n *\n * Features:\n * 1. Validation Form fields value based on type or Regex\n * 2. Display, focus, (and scroll to) error (or the first of) message\n * 3. Support validation of single field or all fields\n *\n * Special thanks to @publicJorn [Jorn Luiten] for the ES6 jQuery Plugins template\n */\n(function(global, factory) {\n  'use strict';\n\n\n  if (typeof define === 'function' && define.amd) {\n    define(['jquery'], function($) {\n      return factory($, global, global.document);\n    });\n  } else if (typeof exports === \"object\" && exports) {\n    module.exports = factory(require('jquery'), global, global.document);\n  } else {\n    factory(jQuery, global, global.document);\n  }\n})(typeof window !== 'undefined' ? window : this, function($, window, document, undefined) {\n  'use strict';\n\n  const pluginName = 'FormHelper';\n\n  // -- Globals (shared across all plugin instances)\n  let settings = {};\n  const defaultOptions = {\n    // Component(s) default behavior\n    disableSubmitBtn : true,\n    errorHurdling    : false,\n    // Development Related\n    DEBUG_MODE : false,\n  };\n\n  // const $window = $(window);\n  // const $document = $(document);\n\n  // p = placeholder, together with pluginName\n  const p = {};\n\n  // Utilities Func\n  const DEBUG   = (...params) => { settings.DEBUG_MODE && console.info ( \"DEBUG:\\n\\t\"   + params.toString() + \"\\n---\"); }\n  const ERROR   = (...params) => { settings.DEBUG_MODE && console.error( \"ERROR:\\n\\t\"   + params.toString() + \"\\n---\"); }\n  const WARNING = (...params) => { settings.DEBUG_MODE && console.warn ( \"WARNING:\\n\\t\" + params.toString() + \"\\n---\"); }\n  const isJSON  = (str) => {\n    let jsonObj = undefined;\n    try { jsonObj = JSON.parse(str); } catch (e) { return undefined; }\n    return jsonObj;\n  }\n\n  // Regex Test Methods\n  const validateEmail = (emailAddrString) => (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(emailAddrString));\n  const validateTel = (phoneNumberString) => (/^[\\+]?[(]?[0-9]{0,3}[)]?[-\\s]?[0-9]{4}[-\\s]?[0-9]{4,6}$/.test(phoneNumberString));\n\n  // TODO: addition tag & type needs to be supported\n  const supportedTag = [\"INPUT\", \"TEXTAREA\"/* , \"SELECT\" */];\n  const supportedType = [\"EMAIL\", \"TEL\", \"NUMBER\"];\n  const nameSpaceKey = pluginName.replace(/^\\w/, c => c.toLowerCase())+\"_\";\n\n  let $el;\n\n  p[pluginName] = class {\n    constructor (el, opts) {\n      $el = $(el);\n      settings = $.extend({}, defaultOptions, opts) ;\n      // this._defaultOptions = defaultOptions;\n\n      this.init();\n    }\n\n    init() {\n      // Let's disable HTML5 default validation\n      $el.attr(\"novalidate\", \"\");\n\n\n      // Preparing\n      this.pairingErrorAndFields();\n      DEBUG(pluginName+\"(\"+$el.attr('id')+\")\"+' initialised');\n\n      // this.eachField_forDebugging();\n\n      if (settings.disableSubmitBtn) {\n        // TODO: this needs to be handle together with \"on_change\" & \"on_submit\"\n        $el.find('[type=\"submit\"]').prop(\"disabled\", true);\n      }\n      if (true) {\n        // TODO: this needs to be handle together with \"on_change\" & \"on_submit\"\n        $el.submit((e) => {\n          e.preventDefault();\n\n          this.resetFormError(e);\n          this.validationLoop(e);\n\n          return false;\n        })\n      }\n\n    }\n\n\n    /**\n     * Perform a full test on specified form fields\n     */\n    validationLoop(e) {\n      let $el = $(e.target);\n\n      settings.DEBUG_MODE && console.log(\"Validation Loop: \"+$el.attr(\"id\"));\n\n      $el.find(supportedTag.join(',')).each((idx, e) => {\n        let rules = $(e).data(nameSpaceKey+\"rules\");\n        let val = $(e).val();\n\n        rules.forEach( r => {\n          let result = this.validationDelegator(val, r);\n          console.log(\"Testing[\"+$(e).attr(\"name\")+\": '\"+val+\"' with rule: '\"+r+\"'] = \" + result);\n\n          if (!result) {\n            // Error show up\n            let nameKey = $(e).attr(\"name\");\n            $(e).attr(\"aria-invalid\", true);\n\n            let errors = $el.find('error[errorFor=\"'+nameKey+'\"][data-rule=\"'+r+'\"], .error[errorFor=\"'+nameKey+'\"][data-rule=\"'+r+'\"]');\n            if (errors.length == 1) {\n              errors.addClass(\"errorShow\");\n            } else if (errors.length > 1) {\n              $el.find('error[data-rule=\"'+r+'\"], .error[data-rule=\"'+r+'\"]').addClass(\"errorShow\");\n            } else {\n              ERROR(\"Error message disappeared! Something wrong happened\");\n            }\n\n            // return result;  // TODO: needs to handle \"errorHurdling\"\n          }\n        });\n      });\n\n      return false;\n    }\n\n\n    /**\n     * Test single form field (or a single group like checkbox)\n     * and then return validation result (true or false)\n     *\n     * p.s. for 'Required', 'email', 'tel' rule, string will be trim and test but other won't\n     *\n     * @param {string} val - Form Field value in text\n     * @param {string} rule - Name (key) of validation rule, single value only\n     */\n    validationDelegator(val, rule) {\n\n      // if (!val) {\n      //   ERROR(\"Value to be tested is empty\");\n      //   return false;\n      // }\n\n      let r = rule.toLocaleLowerCase().replace(/\\s/g, \"\");\n\n      if (r === \"required\") {\n        return (val.trim().length > 0);\n      } else if (r === \"email\") {\n        return validateEmail(val.trim());\n      } else if (r === \"tel\") {\n        return validateTel(val.trim());\n      } else if (r.includes(\"max:\")) {\n        return val.trim() <= r.split(\":\")[1];\n        // return false; //val.trim()\n      } else {\n        ERROR(\"Rule: \"+r+\" is not supported\");\n        return true;\n      }\n      return false;\n    }\n\n\n    // Link up error message to form fields\n    pairingErrorAndFields() {\n\n      // Gather all rules & store in Form Fields for future use\n      $el.find(\".error, error\").each((idx, e) => {\n\n        let inputTag = this.getTargetInputField(e);\n        if (inputTag) {\n\n          // Pairing by NAME tag\n          let inputNameStr = $(inputTag).attr(\"name\") || this.generateUUID_v4();\n          $(e).data(\"errorFor\", inputNameStr).attr(\"errorFor\", inputNameStr);\n\n          // Copy rules into input fields\n          // 1. gathering all rules into single list (single source of truth)\n          let errorRules = $(e).attr(\"data-rule\") ? $(e).attr(\"data-rule\").toLowerCase().split(',') : [];\n          let rulesArr = $(inputTag).data(nameSpaceKey+\"rules\") || [];\n          let finalRules = [...new Set(rulesArr.concat(errorRules))];  //Array\n          // finalRules = finalRules.map((e) => { return e.replace(/\\s/g, \"\"); /*.trim();*/ });  // remove all spaces\n          // let finalRules = $.extend({}, errorRules, rulesJson); // JSON\n\n          $(inputTag).data(nameSpaceKey+\"rules\", finalRules);\n          if (settings.DEBUG_MODE) {\n            // make it visible for debug\n            $(inputTag).attr(nameSpaceKey+\"rules\", finalRules.join(\",\"));\n          }\n\n          // mark input field as required, just in case\n          if (errorRules.includes(\"required\")) {\n            $(inputTag).prop(\"required\", true);\n          }\n\n          // Warning if input field has no NAME tag\n          if ( ! $(inputTag).attr(\"name\")) {\n            $(inputTag).attr(\"name\", inputNameStr);\n            WARNING(\"Form field missing 'NAME' attribute, generated an UUID instead [\"+inputNameStr+\"]\");\n          }\n\n        }\n\n      });\n\n      // Then scan form field(s) if any missing fules\n      // TODO: future requirement, special rules defined in form field\n      $el.find(supportedTag.join(',')).each((idx, e) => {\n        let typeOfField = supportedType.includes( $(e).prop(\"type\") ) ? $(e).prop(\"type\") : \"\";\n        let required = $(e).prop(\"required\") ? \"required\" : \"\";\n        // TODO: regex rules\n        let existingRules = $(e).data(nameSpaceKey+\"rules\") || [];\n\n        if (typeOfField != \"\")  { existingRules.push(typeOfField); }\n        if (required != \"\")     { existingRules.push(required); }\n        existingRules = [...new Set(existingRules)];\n\n        $(e).data(nameSpaceKey+\"rules\", existingRules);\n        if (settings.DEBUG_MODE) {\n          $(e).attr(nameSpaceKey+\"rules\", existingRules.join(\",\"));\n        }\n\n      });\n    }\n\n    // Keep looking for target until found\n    getTargetInputField(e) {\n\n      // Check if this fit of one of the case\n      let hasErrorFor     = $(e).attr(\"errorFor\") != undefined,\n          afterInput      = supportedTag.includes( $(e).prev().prop(\"tagName\") ),\n          underErrorGroup = $(e).parent().prop(\"tagName\") == \"errorGroup\".toUpperCase();\n      let underErrorGroupWithForKey = (underErrorGroup && $(e).parent().attr(\"errorFor\") !== undefined),\n          underErrorGroupAfterInput = (underErrorGroup && supportedTag.includes( $(e).parent().prev().prop(\"tagName\") ));\n\n      // Return the actual input field\n      if (hasErrorFor) {\n        let nameKey = \"[name='\" + $(e).attr(\"errorFor\") + \"']\" || \"\";\n        return $(nameKey);\n\n      } else if (afterInput) {\n        return $(e).prev();\n\n      } else if (underErrorGroupWithForKey) {\n        let nameKey = \"[name='\" + $(e).parent().attr(\"errorFor\") + \"']\";\n        return $(nameKey);\n\n      } else if (underErrorGroupAfterInput) {\n        return $(e).parent().prev();\n      }\n\n      // Everything else is an issue, Exit\n      console.error(\"Error message with no paired validation target:\\n'\"+$(e).text()+\"'\");\n      return undefined;\n\n    }\n    // End of getTargetInputField() ~~~~~~~~~~~~~~~~~~~~~~~\n\n    // Loop thru all form fields\n    eachField_forDebugging() {\n      // TODO: Move all debug logic to this umbrella\n      $(supportedTag.join(',')).each((idx, e) => {\n        let rules = $(e).data(nameSpaceKey+\"rules\") || [];\n        settings.DEBUG_MODE && console.log($(e).attr(\"name\"), rules);\n      });\n\n    }\n\n    resetFormError(e) {\n      let $el = $(e.target);\n      $el.find(supportedTag.join(',')).attr(\"aria-invalid\", false);\n      // $el.find(supportedTag.join(',')).each(() => {\n      //   $(this).attr(\"aria-invalid\", false);\n      // });\n      $el.find(\"error.errorShow, .error.errorShow\").removeClass(\"errorShow\");\n    }\n\n    // TODO: replease the following method by npm UUID\n    generateUUID_v4() {        // Public Domain/MIT\n      let d = new Date().getTime();     // ***Timestamp, better use Date.now()\n      let d2 = (performance && performance.now && (performance.now()*1000)) || 0; //Time in microseconds since page-load or 0 if unsupported\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        let r = Math.random() * 16;   //random number between 0 and 16\n        if(d > 0){                    //Use timestamp until depleted\n          r = (d + r)%16 | 0;\n          d = Math.floor(d/16);\n        } else {                      //Use microseconds since page-load if supported\n          r = (d2 + r)%16 | 0;\n          d2 = Math.floor(d2/16);\n        }\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n      });\n    }\n    // End of UUID_v4\n  }\n\n  // Clearup for bug trigger\n  $el = undefined;\n  // Avoid duplicated instantiations ~~~~~~~~~~~~~~~~~~~~~~\n  $.fn[pluginName] = function(options) {\n    return this.each(function () {\n      if (!$.data(this, 'plugin_'+ pluginName)) {\n        $.data(this, 'plugin_'+ pluginName, new p[pluginName](this, options));\n      }\n    });\n  };\n});"],"file":"../../src/js/jQuery.FormHelper.es6.js"}